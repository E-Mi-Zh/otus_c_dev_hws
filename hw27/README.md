# chttp

## Задание
Написать HTTP-сервер на основе одного из современных механизмов мультиплексирования ввода-вывода
(epoll, kqueue), раздающий файлы из заданной директории. Сторонние библиотеки не использовать.

## Задачи:
1. Создать консольное приложение, принимающее аргументами командной строки рабочую директорию и пару
адрес:порт для прослушивания.
2. Корректно отдавать файлы из заданной директории по HTTP.
3. Корректно возвращать 404 статус-код на запросы несуществующих файлов и 403 статус-код
на запросы файлов, на чтение которых у процесса не хватает прав.

## Требования к коду:
* cторонние библиотеки не использовать;
* успешная компиляция с флагами `-Wall -Wextra -Wpedantic -std=c11`.

## Вспомогательные материалы
1. [Структура HTTP-сообщения](https://ru.wikipedia.org/wiki/HTTP#%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0_HTTP-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F)

# Реализация

Требования: компилятор Си11, стандартная библиотека (проверялось в Linux, GCC 13.2.0, libc 2.38).

Сборка: `make` или `gcc -o chttp chttp.c -Wall -Wextra -Wpedantic -std=c11.`

## Пример данных
В подкаталоге www находятся файлы:
* index.html - обычная web-страничка;
* t - текстовый файл;
* norights - пустой файл, без прав на чтение (перед запуском сервера выполнить `chmod a-r www/norights`).

## Пример использования
Запуск сервера: `$ ./chttp www 127.0.0.1:5555`.

Запросы:
* `curl -v 127.0.0.1:5555/t` - вернёт содержимое текстового файла `www/t` (text) со статусом 200;
* `curl -v 127.0.0.1:5555/tt` - вернёт сообщение об ошибке "файл не найден" со статусом 404;
* `curl -v 127.0.0.1:5555/norights` - вернёт сообщение об ошибке "доступ запрещён" со статусом 403;
* `curl -v 127.0.0.1:5555/index.html` - вернёт содержимое веб-странички `www/index.html` (text/html) со статусом 200.

