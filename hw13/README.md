# ДЗ13 - исправление утечек памяти

## Задание
Найти и исправить утечки памяти в приложенной программе.

## Цель задания
Получить навык поиска утечек памяти с помощью valgrind.

## Задачи
1. Найдена как минимум одна утечка памяти, создан patch, исправляющий утечку.
2. Найдены и исправлены дополнительные утечки.

## Решение

Для сборки распаковал исходный код clib из приложенного архива.
Утечки искал с помощью valgrind:
```
cd hw13/clib/test/package
make valgrind
```

### Результаты
Найдёные утечки:
 * опечатка в вызовах `pthread_join` (`status` вместо `&status`);
 * при повторном http-запросе не освобождалась ранее выделенная под его результат память (добавил `http_get_free`);
 * повторно вызывалась функция вставки элемента в хеш-таблицу с именем пакета (утечка через повторный вызов `strdup`).

[Патч](0001-Fixed-memory-leaks-in-clib.patch) с исправлениями.
Итоговый [отчёт](valgrind_report.txt) Valgrind.
